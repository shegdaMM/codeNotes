---
title: 10__Формирование архитектуры
updated: 2021-10-29 13:56:36Z
created: 2021-10-29 12:12:10Z
latitude: 50.45800000
longitude: 30.53030000
altitude: 0.0000
---

## Четыре ==правила==, помогающих составить представление о важнейших ==особенностях структуры и архитектуры== кода:

- [ ] ==тщательно протестированная и прошедшая все тесты, контролируема==
> для системы необходимо написать тесты и постоянно выполнять их, влияет на соответствие системы важнейшим критериям объектно-ориентированного программирования: устранению жестких привязок и повышению связности

- [ ] ==Отсутствие дублирования==
> главный враг хорошо спроектированной системы
> 
> **последствия:** лишняя работа, лишний риск и лишняя избыточная сложность


> **что проверять:**
- точное совпадение ++строк кода++
- дублирование ++реализации методов++
- дублирование ++частей реализации методов++

> **как устранять:**
- строки текста и в отдельные переменные
- регулярные строки в спец. функции-конструкторы
- части кода в отдельные функции
-  Паттерн ШАБЛОННЫЙ МЕТОД: для устранения почти полностю повторяющихся методов

```

public class VacationPolicy {
	public void accrueUSDivisionVacation() {
		// Код вычисления продолжительности отпуска*
		// по количеству отработанных часов*
		// Код проверки минимальной продолжительности отпуска*
		// по стандартам США
		// Код внесения отпуска в платежную ведомость*
	}

	public void accrueEUDivisionVacation() {
		// Код вычисления продолжительности отпуска*
		// по количеству отработанных часов*
		// Код проверки минимальной продолжительности отпуска*
		// по европейским стандартам
		// Код внесения отпуска в платежную ведомость*
	}
}

/* use ШАБЛОННЫЙ МЕТОД: */
abstract public class VacationPolicy {
	// ШАБЛОННЫЙ МЕТОД
	public void accrueVacation() {
		calculateBaseVacationHours();
		alterForLegalMinimums();
		applyToPayroll();
	}
		// общие реализации
		private void calculateBaseVacationHours() { /* ... */ };
		private void applyToPayroll() { /* ... */ };
		// что необходимо реализовать (отличие)
		abstract protected void alterForLegalMinimums();
	}

	public class USVacationPolicy extends VacationPolicy {
		@Override protected void alterForLegalMinimums() {
			// Логика для США
		}
	}
public class EUVacationPolicy extends VacationPolicy {
		@Override protected void alterForLegalMinimums() {
			// Логика для Европы
		}
}
```

- [ ] ==Выразительность==
> Основные затраты программного проекта связаны с его долгосрочным сопровождением
> 
> С ростом сложности системы разработчику приходится разбираться все дольше и дольше, а вероятность того, что он поймет что-то неправильно, только возрастает
> 
> Чем понятнее будет код, тем меньше времени понадобится другим программистам, чтобы разобраться в нем.
> 
> **О чем:**

- Хороший выбор имен помогает выразить ваши намерения
- небольшой размер функций и классов также помогает выразить
ваши намерения
- Включение стандартных названий паттернов (например, КОМАНДА или ПОСЕТИТЕЛЬ) в имена классов, реализующих эти паттерны, помогает кратко описать вашу архитектуру
- **Немного поразмыслите над каждой функцией и классом. Попробуйте улучшить имена, разбейте большие функции на меньшие и вообще проявите заботу о том, что вы создали**

- [ ] ==Минимум классов и методов==
> сделать так, чтобы система была компактной, но при этом одновременно сохранить компактность функций и классов